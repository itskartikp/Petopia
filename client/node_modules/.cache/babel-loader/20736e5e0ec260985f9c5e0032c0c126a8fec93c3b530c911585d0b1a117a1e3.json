{"ast":null,"code":"var _jsxFileName = \"/Users/kartik/Desktop/ready-pet-g-refactor/client/src/components/MeetUpComponents/CommentForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport { ADD_COMMENT } from '../../utils/mutations';\nimport Auth from '../../utils/auth';\nimport './meetupstyle.css';\nimport { Box, Container, Typography, TextField, Button } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CommentForm = ({\n  meetUpId\n}) => {\n  _s();\n  const [commentText, setCommentText] = useState('');\n  const [characterCount, setCharacterCount] = useState(0);\n  const [addComment, {\n    error\n  }] = useMutation(ADD_COMMENT);\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n    try {\n      const {\n        data\n      } = await addComment({\n        variables: {\n          meetUpId,\n          commentText,\n          commentAuthor: Auth.getProfile().data.username\n        }\n      });\n      setCommentText('');\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    if (name === 'commentText' && value.length <= 280) {\n      setCommentText(value);\n      setCharacterCount(value.length);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      marginTop: '1.2em',\n      width: '80%',\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    },\n    children: Auth.loggedIn() ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'center'\n        },\n        onSubmit: handleFormSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"Reply to this MeetUp: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: '.8em',\n                float: 'right'\n              },\n              children: [\" Character Count: \", characterCount, \"/280\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 48\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: error.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            name: \"commentText\",\n            placeholder: \"Add your comment...\",\n            value: commentText,\n            style: {\n              marginBottom: '.8em',\n              width: '100%'\n            },\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            type: \"submit\",\n            className: \"addCommentBtn\",\n            sx: {\n              backgroundColor: '#36393F',\n              width: '9rem',\n              marginLeft: 'auto'\n            },\n            children: \"Add Comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"You need to be logged in to reply to meetUps. Please\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: \"login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), \" or \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/signup\",\n        children: \"signup.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 45\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(CommentForm, \"738jTrjiPEli34Jv4mU25VWLaUc=\", false, function () {\n  return [useMutation];\n});\n_c = CommentForm;\nexport default CommentForm;\nvar _c;\n$RefreshReg$(_c, \"CommentForm\");","map":{"version":3,"names":["React","useState","Link","useMutation","ADD_COMMENT","Auth","Box","Container","Typography","TextField","Button","jsxDEV","_jsxDEV","Fragment","_Fragment","CommentForm","meetUpId","_s","commentText","setCommentText","characterCount","setCharacterCount","addComment","error","handleFormSubmit","event","preventDefault","data","variables","commentAuthor","getProfile","username","err","console","handleChange","name","value","target","length","sx","marginTop","width","marginLeft","marginRight","children","loggedIn","style","display","flexDirection","justifyContent","onSubmit","fontSize","float","fileName","_jsxFileName","lineNumber","columnNumber","message","placeholder","marginBottom","onChange","variant","type","className","backgroundColor","to","_c","$RefreshReg$"],"sources":["/Users/kartik/Desktop/ready-pet-g-refactor/client/src/components/MeetUpComponents/CommentForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useMutation } from '@apollo/client'; \r\nimport { ADD_COMMENT } from '../../utils/mutations'; \r\nimport Auth from '../../utils/auth';\r\nimport './meetupstyle.css'\r\n\r\n\r\nimport { Box, Container, Typography, TextField, Button} from '@mui/material';\r\n\r\nconst CommentForm = ({ meetUpId }) => {\r\n  const [commentText, setCommentText] = useState('');\r\n  const [characterCount, setCharacterCount] = useState(0);\r\n\r\n  const [addComment, { error }] = useMutation(ADD_COMMENT);\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const { data } = await addComment({\r\n        variables: {\r\n          meetUpId,\r\n          commentText,\r\n          commentAuthor: Auth.getProfile().data.username,\r\n        },\r\n      });\r\n\r\n      setCommentText('');\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n\r\n    if (name === 'commentText' && value.length <= 280) {\r\n      setCommentText(value);\r\n      setCharacterCount(value.length);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ marginTop: '1.2em', width: '80%', marginLeft: 'auto', marginRight: 'auto' }}> \r\n\r\n      {Auth.loggedIn() ? (\r\n        <> \r\n            \r\n          <form\r\n            style= {{display:'flex', flexDirection:'column', justifyContent:'center'}}\r\n            onSubmit={handleFormSubmit}\r\n          >\r\n            <div>\r\n            <h4>\r\n                         Reply to this MeetUp: <span style={{fontSize:'.8em', float:'right'}}> Character Count: {characterCount}/280</span>\r\n                        </h4>\r\n            {error && <span>{error.message}</span>} \r\n            </div>\r\n            <div>\r\n              <TextField\r\n                name=\"commentText\"\r\n                placeholder=\"Add your comment...\"\r\n                value={commentText} \r\n                style={{marginBottom:'.8em', width:'100%'}}\r\n                onChange={handleChange}\r\n              ></TextField>\r\n            </div>\r\n\r\n            <div > \r\n              <Button variant='contained' type=\"submit\" className='addCommentBtn' sx={{ backgroundColor: '#36393F', width: '9rem', marginLeft: 'auto' }}>Add Comment</Button>\r\n            </div>\r\n          </form>\r\n        </>\r\n      ) : (\r\n        <p>\r\n          You need to be logged in to reply to meetUps. Please{' '}\r\n          <Link to=\"/login\">login</Link> or <Link to=\"/signup\">signup.</Link>\r\n        </p>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default CommentForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}